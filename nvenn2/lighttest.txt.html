<!DOCTYPE html>
<html>
<head>
<style>
body{
	margin: 0;
	padding: 0;
}
.dbutton{
		height: 8vh;
		vertical-align: middle;
}
.menus{
	width: 100%;
	height: 9vh;
	padding: 0;
	border: thin solid black;
	border-radius: 1vw;
}
#svg{
	float: right;
};
.panel{
	width: 49vw;
	height: 90vh;
	float: left;
	margin: 0;
	padding-left: 0.5vw;
	border: solid thin black;
	border-radius: 1vh;
}
.panel25{
	width: 24vw;
	height: 90vh;
	float: left;
	margin: 0;
	padding-left: 0.5vw;
	border: solid thin black;
	border-radius: 1vh;
}
.panel75{
	width: 74vw;
	height: 90vh;
	float: left;
	margin: 0;
	padding-left: 0.5vw;
	border: solid thin black;
	border-radius: 1%;
}
svg{
	width: 95%;
	height: 95%;
}
</style>
<script>
	const cboxes = [];
</script>
</head>
<body>
<div class="menus" id="uppermenu">
<button class="dbutton" id="getSVG">Download SVG</button>
<button class="dbutton" id="getPNG">Download PNG</button>
</div>
<div class="row" id="noscript">
<h1>If this message does not disappear, Javascript is inactive</h1>
<h1>You need to activate Javascript to use this interface</h1>
</div>
<div class="panel25" id="info">
<dialog id="save" closedby="any">
	<label for="outfile">Output file:</label>
	<input autofocus id="outfile" name="outfile" type="text" />
	<button id="downloadpng">Download</button>
	<form method="dialog">
		<button>Close</button>
	</form>
</dialog>
<dialog id="safety" closedby="any">
	<span><a id="safelink">If the download does not start, you can try clicking here</a></span>
	<form method="dialog">
		<button autofocus>Close</button>
	</form>
</dialog>
<div id="ticks">
<div id="checkboxes">
<p>
<input type="checkbox" class="cbox" id="groupchk2" name="groupchk2" data-nbit="0"><label for="groupchk2">IBA</label>
<script>cboxes.push(document.getElementById('groupchk2'));</script>
</p>
<p>
<input type="checkbox" class="cbox" id="groupchk1" name="groupchk1" data-nbit="1"><label for="groupchk1">IDA</label>
<script>cboxes.push(document.getElementById('groupchk1'));</script>
</p>
<p>
<input type="checkbox" class="cbox" id="groupchk0" name="groupchk0" data-nbit="2"><label for="groupchk0">IGI</label>
<script>cboxes.push(document.getElementById('groupchk0'));</script>
</p>
<textarea id="reg" rows="20" cols="30">
</textarea>
</div>
</div>
</div>
<div class="panel75" id="svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 700 500">
<defs>
<style type="text/css"><![CDATA[
  .borderLine {
	   stroke: none;
	   fill-opacity: 0.4000;
  }
  .outLine {
	   stroke-width: 1.0000;
	   fill: none;
  }
  .circle {
	   stroke: #888888;
	   stroke-width: 0.5;
	   fill: none;
    pointer-events: all;
  }
  .spcircle {
	   stroke: #FF2222;
	   stroke-width: 1;
	   fill: none;
    pointer-events: all;
  }
  .tLabel {
	   font-family: Arial;
    pointer-events: none;
	   font-size: 14px;
	   text-anchor: middle;
	   alignment-baseline: central;
  }
  .nLabel {
	   font-family: Arial;
    pointer-events: none;
	   font-size: 10px;
	   text-anchor: middle;
	   alignment-baseline: central;
  }
  .belong {
	   font-family: Arial;
    pointer-events: none;
	   font-size: 5px;
	   text-anchor: middle;
	   alignment-baseline: central;
  }
  .p0{
    stroke: none;
    fill: #e6194b;
  }
  .q0{
    fill: none;
    stroke: #e6194b;
  }
  .p1{
    stroke: none;
    fill: #3cb44b;
  }
  .q1{
    fill: none;
    stroke: #3cb44b;
  }
  .p2{
    stroke: none;
    fill: #ffe119;
  }
  .q2{
    fill: none;
    stroke: #ffe119;
  }
]]>
</style>
<symbol id="bl0">
<path d="M 148.84 218.94 C 147.92 222.03 146.76 223.34 146.24 226.59
 C 145.72 229.85 145.94 231.85 146.22 235.23
 C 146.50 238.61 147.16 240.11 147.62 243.49
 C 148.08 246.87 148.21 248.62 148.52 252.12
 C 148.82 255.63 148.92 257.43 149.14 261.02
 C 149.36 264.61 149.45 266.44 149.63 270.07
 C 149.81 273.70 149.88 275.53 150.05 279.17
 C 150.21 282.80 150.28 284.63 150.44 288.25
 C 150.59 291.87 150.67 293.68 150.82 297.27
 C 150.97 300.86 151.04 302.65 151.19 306.20
 C 151.33 309.75 151.41 311.52 151.54 315.03
 C 151.68 318.54 151.74 320.28 151.86 323.74
 C 151.97 327.20 152.02 328.92 152.11 332.34
 C 152.21 335.76 152.15 337.47 152.33 340.84
 C 152.51 344.22 152.65 345.90 153.01 349.22
 C 153.38 352.54 153.61 354.19 154.16 357.46
 C 154.71 360.72 155.03 362.34 155.75 365.54
 C 156.47 368.74 156.87 370.33 157.76 373.46
 C 158.65 376.60 159.14 378.15 160.19 381.22
 C 161.25 384.28 161.82 385.80 163.03 388.79
 C 164.25 391.79 164.90 393.27 166.28 396.20
 C 167.65 399.12 168.38 400.56 169.92 403.41
 C 171.46 406.26 172.26 407.67 173.96 410.44
 C 175.66 413.21 176.54 414.58 178.40 417.26
 C 180.25 419.95 181.22 421.28 183.23 423.88
 C 185.25 426.48 186.30 427.76 188.47 430.26
 C 190.64 432.77 191.77 434.00 194.10 436.40
 C 196.43 438.80 197.64 439.97 200.13 442.26
 C 202.61 444.54 203.89 445.66 206.52 447.81
 C 209.15 449.97 210.51 451.02 213.27 453.03
 C 216.04 455.04 217.46 456.01 220.35 457.87
 C 223.24 459.73 224.72 460.62 227.71 462.31
 C 230.71 464.00 232.24 464.80 235.32 466.31
 C 238.40 467.82 239.97 468.54 243.12 469.86
 C 246.27 471.19 247.87 471.80 251.07 472.94
 C 254.27 474.07 255.89 474.59 259.12 475.53
 C 262.35 476.48 263.98 476.90 267.23 477.65
 C 270.48 478.40 272.11 478.73 275.36 479.29
 C 278.61 479.86 280.24 480.09 283.48 480.47
 C 286.73 480.85 288.35 480.99 291.58 481.19
 C 294.81 481.39 296.42 481.44 299.63 481.47
 C 302.85 481.49 304.45 481.46 307.64 481.31
 C 310.83 481.16 312.42 481.04 315.59 480.72
 C 318.76 480.40 320.34 480.20 323.48 479.71
 C 326.63 479.23 328.20 478.94 331.32 478.28
 C 334.44 477.63 335.99 477.26 339.08 476.43
 C 342.18 475.60 343.72 475.15 346.77 474.15
 C 349.83 473.15 351.35 472.61 354.37 471.44
 C 357.38 470.28 358.88 469.65 361.83 468.31
 C 364.79 466.98 366.26 466.27 369.14 464.77
 C 372.02 463.28 373.45 462.48 376.25 460.83
 C 379.05 459.18 380.43 458.31 383.12 456.52
 C 385.82 454.72 387.14 453.78 389.73 451.85
 C 392.31 449.92 393.57 448.91 396.03 446.86
 C 398.49 444.80 399.69 443.74 402.03 441.57
 C 404.36 439.39 405.49 438.28 407.69 435.99
 C 409.89 433.71 410.96 432.54 413.03 430.15
 C 415.10 427.77 416.10 426.54 418.03 424.05
 C 419.97 421.56 420.91 420.29 422.71 417.69
 C 424.52 415.09 425.39 413.77 427.06 411.06
 C 428.73 408.36 429.54 406.98 431.07 404.17
 C 432.61 401.36 433.35 399.93 434.74 397.01
 C 436.13 394.10 436.80 392.61 438.04 389.60
 C 439.29 386.58 439.87 385.05 440.96 381.94
 C 442.04 378.84 442.55 377.25 443.47 374.07
 C 444.39 370.88 444.81 369.26 445.55 366.00
 C 446.30 362.75 446.63 361.10 447.19 357.79
 C 447.75 354.48 447.99 352.81 448.36 349.47
 C 448.74 346.12 448.88 344.44 449.07 341.08
 C 449.25 337.71 449.30 336.02 449.29 332.66
 C 449.29 329.29 449.24 327.61 449.04 324.25
 C 448.85 320.90 448.70 319.22 448.32 315.89
 C 447.93 312.56 447.69 310.90 447.13 307.60
 C 446.56 304.30 446.22 302.66 445.47 299.40
 C 444.72 296.15 444.30 294.53 443.36 291.32
 C 442.43 288.11 441.91 286.52 440.80 283.37
 C 439.68 280.21 439.08 278.65 437.79 275.55
 C 436.49 272.45 435.80 270.92 434.32 267.89
 C 432.85 264.86 432.07 263.36 430.42 260.40
 C 428.76 257.44 427.89 255.98 426.06 253.11
 C 424.23 250.23 423.27 248.81 421.27 246.03
 C 419.26 243.25 418.21 241.88 416.04 239.21
 C 413.87 236.53 412.74 235.22 410.41 232.67
 C 408.08 230.12 406.88 228.87 404.40 226.46
 C 401.92 224.05 400.64 222.87 398.03 220.61
 C 395.42 218.34 394.07 217.24 391.34 215.14
 C 388.61 213.04 387.21 212.02 384.37 210.08
 C 381.53 208.15 380.03 207.29 377.14 205.46
 C 374.24 203.63 372.77 202.75 369.88 200.93
 C 366.99 199.10 365.55 198.18 362.67 196.34
 C 359.80 194.49 358.36 193.56 355.49 191.71
 C 352.61 189.85 351.18 188.92 348.29 187.05
 C 345.41 185.19 343.97 184.26 341.07 182.39
 C 338.18 180.51 336.72 179.58 333.81 177.70
 C 330.90 175.82 329.44 174.88 326.52 172.99
 C 323.60 171.10 322.13 170.16 319.20 168.26
 C 316.27 166.36 314.80 165.41 311.87 163.51
 C 308.94 161.60 307.47 160.65 304.54 158.73
 C 301.61 156.82 300.15 155.86 297.23 153.94
 C 294.32 152.02 292.86 151.06 289.97 149.13
 C 287.07 147.20 285.63 146.24 282.76 144.30
 C 279.90 142.35 278.47 141.38 275.64 139.41
 C 272.82 137.45 271.41 136.47 268.63 134.46
 C 265.85 132.45 264.47 131.44 261.75 129.37
 C 259.03 127.29 257.68 126.25 255.03 124.08
 C 252.38 121.91 251.13 120.76 248.49 118.51
 C 245.86 116.26 244.73 114.83 241.86 112.83
 C 238.99 110.82 237.39 109.90 234.14 108.47
 C 230.89 107.05 229.12 106.45 225.61 105.69
 C 222.10 104.92 220.23 104.69 216.61 104.64
 C 212.99 104.58 211.09 104.74 207.52 105.41
 C 203.95 106.09 202.12 106.63 198.75 108.01
 C 195.39 109.39 193.70 110.29 190.69 112.31
 C 187.68 114.33 186.22 115.55 183.68 118.12
 C 181.15 120.68 179.98 122.16 178.02 125.15
 C 176.07 128.14 175.22 129.80 173.91 133.07
 C 172.59 136.35 172.39 138.17 171.45 141.53
 C 170.52 144.88 170.15 146.57 169.22 149.87
 C 168.29 153.17 167.80 154.80 166.79 158.03
 C 165.78 161.25 165.26 162.86 164.17 165.99
 C 163.08 169.13 162.54 170.69 161.36 173.70
 C 160.18 176.70 159.60 178.19 158.28 181.01
 C 156.95 183.83 155.78 184.86 154.72 187.79
 C 153.66 190.73 153.47 192.59 152.97 195.71
 C 152.48 198.83 152.66 200.29 152.22 203.38
 C 151.79 206.47 151.48 208.05 150.80 211.17
 C 150.12 214.28 149.75 215.85 148.84 218.94
 Z" />
</symbol>
<symbol id="bl1">
<path d="M 76.15 30.32 C 73.44 32.35 72.13 33.46 69.71 35.79
 C 67.30 38.11 66.16 39.37 64.08 41.95
 C 61.99 44.52 61.03 45.89 59.31 48.66
 C 57.58 51.43 56.81 52.88 55.45 55.80
 C 54.10 58.71 53.51 60.22 52.53 63.24
 C 51.54 66.25 51.15 67.80 50.53 70.87
 C 49.92 73.94 49.70 75.51 49.45 78.60
 C 49.20 81.69 49.17 83.25 49.28 86.33
 C 49.39 89.40 49.53 90.95 49.99 93.98
 C 50.45 97.01 50.77 98.52 51.57 101.46
 C 52.36 104.41 52.85 105.87 53.98 108.70
 C 55.10 111.53 55.75 112.92 57.19 115.60
 C 58.62 118.27 59.43 119.58 61.15 122.07
 C 62.88 124.56 63.84 125.76 65.81 128.05
 C 67.79 130.33 68.98 131.29 71.04 133.49
 C 73.10 135.70 74.11 136.82 76.12 139.08
 C 78.12 141.34 79.11 142.48 81.07 144.80
 C 83.03 147.11 83.99 148.28 85.91 150.65
 C 87.83 153.02 88.78 154.22 90.66 156.64
 C 92.54 159.07 93.47 160.30 95.29 162.79
 C 97.11 165.28 98.02 166.53 99.77 169.10
 C 101.51 171.66 102.38 172.95 104.00 175.61
 C 105.62 178.27 106.41 179.60 107.87 182.40
 C 109.34 185.21 109.41 187.08 111.32 189.63
 C 113.24 192.19 114.64 193.52 117.44 195.19
 C 120.23 196.86 122.12 197.21 125.30 197.98
 C 128.49 198.75 130.16 198.50 133.36 199.04
 C 136.57 199.58 138.17 199.91 141.32 200.67
 C 144.48 201.42 146.07 201.84 149.13 202.81
 C 152.20 203.77 153.67 204.32 156.65 205.50
 C 159.62 206.68 160.95 208.32 164.03 208.71
 C 167.11 209.10 169.02 208.28 172.04 207.44
 C 175.05 206.61 176.20 205.57 179.10 204.52
 C 182.00 203.48 183.50 203.06 186.52 202.23
 C 189.54 201.39 191.10 201.03 194.20 200.34
 C 197.30 199.64 198.88 199.34 202.03 198.77
 C 205.18 198.20 206.76 197.94 209.94 197.49
 C 213.11 197.03 214.71 196.90 217.91 196.49
 C 221.12 196.08 222.79 196.14 225.96 195.44
 C 229.13 194.73 230.74 194.23 233.76 192.98
 C 236.78 191.73 238.29 190.95 241.07 189.17
 C 243.85 187.39 245.21 186.34 247.64 184.08
 C 250.08 181.81 251.25 180.53 253.26 177.85
 C 255.27 175.16 256.19 173.67 257.70 170.64
 C 259.20 167.61 259.85 165.97 260.78 162.68
 C 261.72 159.40 262.06 157.65 262.38 154.23
 C 262.70 150.81 262.71 149.02 262.39 145.58
 C 262.07 142.15 261.74 140.38 260.80 137.06
 C 259.85 133.74 259.20 132.06 257.66 128.98
 C 256.12 125.89 255.17 124.37 253.10 121.64
 C 251.04 118.91 249.83 117.61 247.33 115.32
 C 244.82 113.04 243.31 112.16 240.59 110.22
 C 237.86 108.29 236.39 107.53 233.69 105.65
 C 230.99 103.78 229.67 102.81 227.08 100.85
 C 224.48 98.89 223.21 97.89 220.70 95.86
 C 218.19 93.83 216.96 92.79 214.53 90.70
 C 212.10 88.61 210.90 87.55 208.53 85.42
 C 206.17 83.29 205.00 82.21 202.69 80.04
 C 200.39 77.87 199.25 76.77 197.01 74.57
 C 194.77 72.36 193.66 71.26 191.48 69.02
 C 189.30 66.78 188.23 65.66 186.11 63.38
 C 184.00 61.10 182.96 59.96 180.91 57.64
 C 178.87 55.32 177.86 54.15 175.89 51.77
 C 173.92 49.39 172.98 48.17 171.05 45.74
 C 169.12 43.31 168.31 41.95 166.24 39.62
 C 164.17 37.28 163.05 36.15 160.70 34.06
 C 158.35 31.96 157.10 30.96 154.50 29.14
 C 151.89 27.32 150.51 26.47 147.68 24.96
 C 144.84 23.45 143.36 22.75 140.33 21.58
 C 137.29 20.41 135.71 19.90 132.52 19.09
 C 129.33 18.29 127.67 17.97 124.36 17.57
 C 121.06 17.16 119.35 17.05 115.98 17.06
 C 112.62 17.07 110.89 17.18 107.52 17.62
 C 104.15 18.05 102.44 18.39 99.14 19.25
 C 95.84 20.12 94.18 20.67 91.01 21.96
 C 87.84 23.24 86.27 24.00 83.30 25.68
 C 80.33 27.35 78.87 28.30 76.15 30.32
 Z" />
</symbol>
<symbol id="bl2">
<path d="M 87.94 209.19 C 86.18 211.57 84.99 212.65 83.56 215.33
 C 82.13 218.01 81.51 219.55 80.79 222.57
 C 80.07 225.60 79.87 227.29 79.96 230.45
 C 80.06 233.61 80.32 235.32 81.26 238.38
 C 82.20 241.45 82.92 243.05 84.66 245.77
 C 86.40 248.50 87.53 249.85 89.95 252.02
 C 92.37 254.19 93.84 255.18 96.76 256.62
 C 99.68 258.06 101.36 258.61 104.54 259.21
 C 107.71 259.80 109.47 259.87 112.65 259.60
 C 115.83 259.33 117.46 258.80 120.45 257.86
 C 123.44 256.93 124.72 255.98 127.58 254.91
 C 130.45 253.85 131.88 253.37 134.76 252.53
 C 137.65 251.69 139.10 251.32 142.00 250.70
 C 144.91 250.09 146.36 249.82 149.29 249.46
 C 152.22 249.11 153.66 248.97 156.65 248.91
 C 159.63 248.85 161.23 249.70 164.21 249.17
 C 167.18 248.64 168.96 248.00 171.53 246.24
 C 174.09 244.48 175.44 243.09 177.05 240.38
 C 178.65 237.68 179.24 235.83 179.55 232.73
 C 179.87 229.63 178.87 228.00 178.62 224.89
 C 178.37 221.78 178.28 220.26 178.30 217.18
 C 178.31 214.10 178.39 212.55 178.71 209.48
 C 179.03 206.42 179.30 204.93 179.91 201.85
 C 180.52 198.77 181.85 197.21 181.76 194.07
 C 181.67 190.93 181.12 188.88 179.46 186.15
 C 177.81 183.43 176.12 182.20 173.48 180.44
 C 170.85 178.68 169.09 178.75 166.28 177.37
 C 163.47 175.98 162.13 175.19 159.45 173.52
 C 156.77 171.85 155.46 170.93 152.90 169.01
 C 150.34 167.09 149.08 166.08 146.64 163.92
 C 144.19 161.76 143.43 160.00 140.67 158.21
 C 137.92 156.42 136.12 155.65 132.86 154.98
 C 129.59 154.31 127.62 154.29 124.34 154.86
 C 121.06 155.44 119.26 156.16 116.45 157.87
 C 113.65 159.58 112.29 160.89 110.33 163.42
 C 108.38 165.94 107.78 167.63 106.70 170.51
 C 105.63 173.38 105.77 174.96 104.95 177.78
 C 104.13 180.61 103.65 181.96 102.59 184.63
 C 101.54 187.31 100.95 188.61 99.68 191.16
 C 98.42 193.72 97.74 194.97 96.27 197.42
 C 94.81 199.87 94.03 201.06 92.37 203.42
 C 90.70 205.77 89.71 206.80 87.94 209.19
 Z" />
</symbol>
</defs>
<!-- signature: 3273443418;3;IBA;IDA;IGI;0;328;62;29;10;3;5;2; -->
<desc>STEP: 8</desc>
<desc id='result'>F;1;L;7.83356;11.1391;7.79824;11.2431;7.79801;11.3605;7.81705;11.4729;7.82921;11.5902;
7.83769;11.7111;7.8443;11.8341;7.85;11.9578;7.85532;12.0813;7.86049;12.2039;7.86554;
12.3253;7.87035;12.4453;7.87466;12.5638;7.87813;12.6807;7.88102;12.7963;7.89036;12.9101;
7.90593;13.0221;7.92751;13.132;7.9549;13.2397;7.98797;13.3451;8.02658;13.4482;8.07067;
13.5488;8.12018;13.6469;8.1751;13.7424;8.23543;13.8352;8.30119;13.9251;8.37238;14.0119;
8.44895;14.0953;8.53081;14.1749;8.61778;14.2505;8.70957;14.3214;8.80577;14.3872;8.90587;
14.4475;9.00928;14.502;9.11534;14.5502;9.22341;14.592;9.33284;14.6273;9.44305;14.6561;
9.55357;14.6784;9.66401;14.6944;9.77408;14.7042;9.88358;14.708;9.9924;14.7058;10.1005;
14.6979;10.2078;14.6842;10.3143;14.6647;10.4199;14.6395;10.5244;14.6085;10.6276;14.5717;
10.7291;14.5292;10.8285;14.481;10.9251;14.4275;11.0186;14.3688;11.1084;14.3054;11.1941;
14.2375;11.2756;14.1656;11.3526;14.0898;11.4251;14.0104;11.4932;13.9275;11.5568;13.841;
11.6159;13.7509;11.6705;13.6572;11.7203;13.5599;11.7652;13.4591;11.8048;13.355;11.839;
13.2479;11.8673;13.1383;11.8895;13.0267;11.9055;12.9135;11.915;12.7994;11.9181;12.685;
11.9147;12.5707;11.9049;12.4571;11.8887;12.3444;11.8662;12.2329;11.8375;12.123;11.8026;
12.0149;11.7617;11.9086;11.7146;11.8045;11.6615;11.7027;11.6023;11.6035;11.5371;11.5073;
11.4661;11.4146;11.3896;11.3257;11.3078;11.2413;11.2212;11.1617;11.1303;11.0874;11.0355;
11.0187;10.9372;10.9558;10.8385;10.8942;10.7406;10.8318;10.6429;10.7688;10.5451;10.7056;
10.4469;10.6421;10.3483;10.5784;10.2491;10.5144;10.1496;10.4501;10.0499;10.3855;9.9503;
10.3206;9.85096;10.2554;9.75218;10.19;9.65424;10.1243;9.55745;10.058;9.46211;9.99054;
9.36859;9.92138;9.27723;9.8495;9.18832;9.77372;9.09815;9.6965;8.99321;9.63732;8.87726;
9.59943;8.75491;9.58516;8.63138;9.59572;8.51215;9.63099;8.40254;9.68947;8.30731;9.76841;
8.23035;9.86401;8.17441;9.97173;8.14104;10.0867;8.11069;10.2001;8.07764;10.311;8.04204;
10.4193;8.00376;10.524;7.9619;10.6234;7.91352;10.7157;7.88982;10.8232;7.87958;10.9276;
7.86028;11.0334;L;6.84549;8.5749;6.75793;8.64921;6.68128;8.73292;6.61649;8.82418;
6.56408;8.92121;6.5243;9.02236;6.49714;9.12612;6.48249;9.23116;6.48013;9.33627;6.48981;
9.44027;6.51123;9.54203;6.54401;9.64038;6.58765;9.73416;6.64154;9.8222;6.7049;9.90339;
6.77597;9.97748;6.84497;10.0534;6.91228;10.1311;6.97815;10.2107;7.04268;10.2922;7.10565;
10.3757;7.16647;10.4615;7.22404;10.55;7.27666;10.6424;7.3236;10.7407;7.40668;10.8161;
7.51366;10.8542;7.62319;10.8685;7.73145;10.8907;7.8376;10.9197;7.93972;10.9563;8.04008;
11;8.14894;10.9828;8.24496;10.9431;8.34589;10.9118;8.4503;10.8861;8.55669;10.8648;
8.6642;10.8474;8.77261;10.8339;8.882;10.8195;8.98807;10.7862;9.08743;10.7343;9.1768;
10.6651;9.2531;10.5804;9.31347;10.4825;9.35545;10.3743;9.37711;10.2594;9.37726;10.1418;
9.35564;10.0259;9.31297;9.91606;9.25102;9.81636;9.17248;9.73043;9.08085;9.66108;8.9871;
9.59896;8.89721;9.53371;8.81056;9.4658;8.72665;9.39571;8.6451;9.32391;8.56573;9.25074;
8.48845;9.1764;8.41329;9.10094;8.34032;9.0243;8.26965;8.94623;8.20138;8.86643;8.13556;
8.78445;8.07014;8.70126;7.99488;8.62567;7.91049;8.55886;7.81783;8.50196;7.71786;8.45607;
7.61174;8.42224;7.50087;8.40147;7.38694;8.39458;7.27192;8.40215;7.15799;8.42442;7.04745;
8.46118;6.94258;8.51172;L;7.00577;11.0065;6.94613;11.09;6.90847;11.1885;6.89728;11.2955;
6.91488;11.4034;6.96108;11.5038;7.03309;11.5888;7.12561;11.6513;7.23133;11.6865;7.34164;
11.6919;7.44765;11.6682;7.54466;11.6281;7.64226;11.5957;7.74064;11.5709;7.83972;11.554;
7.93976;11.5465;8.04252;11.55;8.14203;11.5102;8.21707;11.4306;8.25116;11.3265;8.2385;
11.2199;8.23407;11.1151;8.23968;11.0105;8.25604;10.9068;8.2812;10.801;8.24992;10.6933;
8.16864;10.6157;8.07068;10.5739;7.97785;10.5216;7.88878;10.4603;7.80367;10.3911;7.72258;
10.3134;7.61631;10.2695;7.50059;10.268;7.39335;10.3089;7.31015;10.3842;7.26078;10.4806;
7.23694;10.5795;7.20489;10.6727;7.16536;10.7615;7.11898;10.8465;7.0659;10.9281;C;
9;24;0;0;0;9.89811;12.688;2;1;328;8.74523;10.1998;0.594692;3;29;8.06509;10.8054;0.156174;
7;2;7.38909;9.30411;0.869539;2;62;7.55436;10.5702;0.246932;6;5;7.30633;11.2842;0.349215;
4;10;8.00108;11.3022;0.191273;5;3;
S;IBA;MGI:1918414;MGI:1923573;MGI:1927449;MGI:3649773;MGI:2670994;MGI:2183434;MGI:3651686;
MGI:1914951;MGI:1916618;MGI:98943;MGI:1859307;MGI:1349462;MGI:2685640;MGI:2447992;
MGI:1914775;MGI:2387432;MGI:1914199;MGI:2684862;MGI:2685298;MGI:1889623;MGI:2664992;
MGI:1931835;MGI:3647365;MGI:1923897;MGI:3645218;MGI:2684881;MGI:1890659;MGI:1914104;
MGI:4821264;MGI:3035181;MGI:4821257;MGI:98178;MGI:97904;MGI:1337056;MGI:106657;MGI:1861440;
MGI:1923931;MGI:1914123;MGI:2387430;MGI:1923239;MGI:1913150;MGI:1923551;MGI:108072;
MGI:2386643;MGI:3045213;MGI:3045221;MGI:2137359;MGI:1932389;MGI:1341296;MGI:2156367;
MGI:1346060;MGI:2152213;MGI:2182965;MGI:3040056;MGI:2147032;MGI:98734;MGI:1929658;
MGI:1913357;MGI:1919762;MGI:103039;MGI:103063;MGI:1913770;MGI:109297;MGI:2441788;
MGI:3701972;MGI:3605620;MGI:3708769;MGI:3780953;MGI:1923324;MGI:2444421;MGI:4359647;
MGI:97072;MGI:1926263;MGI:1890169;MGI:1349469;MGI:103289;MGI:94881;MGI:3033850;MGI:2684861;
MGI:2672976;MGI:99586;MGI:2429943;MGI:2672974;MGI:4821183;MGI:1914005;MGI:2672966;
MGI:3652032;MGI:3808881;MGI:3710083;MGI:1349412;MGI:2179205;MGI:2138302;MGI:102514;
MGI:99592;MGI:2442822;MGI:3705230;MGI:2687279;MGI:88492;MGI:3611585;MGI:3612190;MGI:2662547;
MGI:1858237;MGI:3646688;MGI:2672972;MGI:107661;MGI:3645033;MGI:3709605;MGI:1890464;
MGI:2176882;MGI:96429;MGI:3705236;MGI:99584;MGI:3709048;MGI:102516;MGI:2445027;MGI:102509;
MGI:3695276;MGI:99580;MGI:2667155;MGI:3630381;MGI:1345152;MGI:3649299;MGI:3032626;
MGI:3045226;MGI:2683287;MGI:99585;MGI:2443411;MGI:3630385;MGI:3045315;MGI:108443;
MGI:3616889;MGI:99582;MGI:3036269;MGI:3639039;MGI:88318;MGI:2177191;MGI:3528599;MGI:1919206;
MGI:2137431;MGI:107420;MGI:1338757;MGI:1913391;MGI:99590;MGI:1929612;MGI:3630303;
MGI:3642989;MGI:2445060;MGI:109324;MGI:1338754;MGI:3642780;MGI:1920399;MGI:3652173;
MGI:95666;MGI:108021;MGI:1859822;MGI:1338036;MGI:109298;MGI:3528616;MGI:1858238;MGI:1915963;
MGI:1298389;MGI:109294;MGI:1861231;MGI:3624119;MGI:3646410;MGI:1915259;MGI:2448469;
MGI:2142077;MGI:1914385;MGI:1333882;MGI:1096878;MGI:3779286;MGI:3647279;MGI:88512;
MGI:1932101;MGI:99583;MGI:107657;MGI:3701974;MGI:2180850;MGI:3646853;MGI:1918731;
MGI:3711900;MGI:1931560;MGI:104984;MGI:88022;MGI:3701970;MGI:2686159;MGI:2387602;
MGI:102772;MGI:99588;MGI:107668;MGI:107662;MGI:1913548;MGI:99587;MGI:2685002;MGI:2153249;
MGI:1918910;MGI:2442261;MGI:1861431;MGI:1196275;MGI:95496;MGI:107506;MGI:108005;MGI:3630383;
MGI:2176887;MGI:1336161;MGI:2676324;MGI:2385051;MGI:103206;MGI:3649573;MGI:1921733;
MGI:103290;MGI:1098776;MGI:1916800;MGI:1861232;MGI:3036291;MGI:108020;MGI:2137352;
MGI:94880;MGI:96824;MGI:2140219;MGI:1196250;MGI:2443965;MGI:99591;MGI:2140937;MGI:2179197;
MGI:1889272;MGI:1340031;MGI:3648996;MGI:3588267;MGI:3645205;MGI:2180860;MGI:1345151;
MGI:1929720;MGI:3701968;MGI:3588218;MGI:1890463;MGI:1917060;MGI:94882;MGI:2138243;
MGI:107663;MGI:4821256;MGI:2180849;MGI:99581;MGI:1913416;MGI:1341158;MGI:1201793;
MGI:107658;MGI:1916347;MGI:1889364;MGI:3649260;MGI:2442492;MGI:3701966;MGI:106588;
MGI:2384800;MGI:1858598;MGI:1925558;MGI:99448;MGI:96428;MGI:1915167;MGI:3041120;MGI:1913539;
MGI:3630390;MGI:107729;MGI:94883;MGI:3584522;MGI:1918836;MGI:2445041;MGI:1933382;
MGI:1933117;MGI:2656551;MGI:2686976;MGI:1921732;MGI:2140770;MGI:1926259;MGI:2676308;
MGI:107666;MGI:107659;MGI:3644953;MGI:109210;MGI:2384814;MGI:3641425;MGI:1918178;
MGI:1926262;MGI:1098243;MGI:1347080;MGI:96877;MGI:2667156;MGI:1097683;MGI:3045299;
MGI:2450574;MGI:3041173;MGI:1925666;MGI:107567;MGI:3582777;MGI:109274;MGI:107540;
MGI:107539;MGI:2684869;MGI:99579;MGI:3530275;MGI:1913847;MGI:1891456;MGI:107538;MGI:1921985;
MGI:1336162;MGI:1330832;MGI:1890474;MGI:1341909;MGI:2137355;MGI:2180853;MGI:1918046;
MGI:1341295;MGI:2180856;MGI:2143163;MGI:1098644;MGI:97822;MGI:1890645;MGI:3045276;
MGI:2149633;MGI:2137353;MGI:2441706;MGI:1859396;MGI:3612191;MGI:3582959;MGI:1098801;
MGI:1344410;MGI:97430;MGI:2442965;MGI:97429;MGI:1917562;MGI:2180852;MGI:1344390;MGI:3528602;
MGI:3649418;MGI:1919489;MGI:2144613;MGI:1915471;MGI:2180855;MGI:104662;MGI:107682;
MGI:98229;MGI:3577015;MGI:107170;MGI:104641;MGI:107741;MGI:1858171;MGI:97897;MGI:107664;
MGI:1931465;MGI:1340905;MGI:101847;MGI:2149590;MGI:1321404;MGI:1890465;MGI:2442858;
MGI:2179198;MGI:1927468;MGI:2679720;MGI:3643814;MGI:2156378;MGI:1921386;S;IDA;MGI:103072;
MGI:2143362;MGI:105059;MGI:98932;MGI:1321389;MGI:1925027;MGI:1342296;MGI:1921982;
MGI:1890156;MGI:893577;MGI:1345275;MGI:1861032;MGI:109432;MGI:1917084;MGI:102789;
MGI:1098586;MGI:2443180;MGI:97361;MGI:107363;MGI:1931595;MGI:2667185;MGI:106612;MGI:97142;
MGI:97009;MGI:2653833;MGI:3718546;MGI:1336882;MGI:96924;MGI:3641753;MGI:3605620;MGI:1923324;
MGI:107539;MGI:1917656;MGI:1933113;MGI:95666;MGI:1098240;MGI:2446089;MGI:1194884;
MGI:2442295;MGI:1915168;MGI:2444421;MGI:1098259;MGI:1340905;MGI:107664;MGI:4359647;
MGI:97072;MGI:1918518;MGI:107370;MGI:102772;MGI:109384;MGI:2135589;MGI:107936;MGI:108445;
MGI:97838;MGI:1915963;MGI:102676;MGI:107420;MGI:2140937;MGI:1100508;MGI:101773;MGI:107362;
MGI:2687214;MGI:1929744;MGI:107567;MGI:1861431;MGI:96824;MGI:106211;MGI:1858730;MGI:1890474;
MGI:1929760;MGI:96540;MGI:1928368;MGI:95851;MGI:2662547;MGI:95936;MGI:104741;MGI:95938;
MGI:98734;MGI:2140219;MGI:96923;MGI:87906;MGI:95945;MGI:1306817;MGI:1347080;MGI:99449;
MGI:109274;MGI:2429943;MGI:107668;MGI:107659;MGI:1913391;MGI:2450574;MGI:1098268;
MGI:894284;MGI:107538;MGI:106588;MGI:1914320;MGI:1926263;MGI:1330832;S;IGI;MGI:3045213;
MGI:1346060;MGI:3622649;MGI:1349420;MGI:1913963;MGI:98923;MGI:107539;MGI:1921367;
MGI:105975;MGI:96923;MGI:88385;MGI:2444773;MGI:109274;MGI:88489;MGI:2143362;MGI:96924;
MGI:2135589;MGI:108005;MGI:1914320;MGI:1328352;</desc>
<rect width="700" height="500" style="fill:#fff;stroke-width:0" />
<use class="p0 borderLine" xlink:href="#bl0"/>
<use class="p1 borderLine" xlink:href="#bl1"/>
<use class="p2 borderLine" xlink:href="#bl2"/>
<use class="q0 outLine" xlink:href="#bl0"/>
<use class="q1 outLine" xlink:href="#bl1"/>
<use class="q2 outLine" xlink:href="#bl2"/>
<circle onclick="fromCircle(1)" class="circle" cx="300.7027" cy="332.8817" r="147.1183" />
<text class="tLabel" x="300.70" y="312.88"></text>
<text class="nLabel" x="300.70" y="327.88">328</text>
<text class="belong" x="300.70" y="337.88">(1)</text>
<circle onclick="fromCircle(3)" class="circle" cx="215.8976" cy="149.8465" r="43.7450" />
<text class="tLabel" x="215.90" y="129.85"></text>
<text class="nLabel" x="215.90" y="144.85">29</text>
<text class="belong" x="215.90" y="154.85">(1, 2)</text>
<circle onclick="fromCircle(7)" class="circle" cx="165.8672" cy="194.3983" r="11.4880" />
<text class="tLabel" x="165.87" y="174.40"></text>
<text class="nLabel" x="165.87" y="189.40">2</text>
<text class="belong" x="165.87" y="199.40">(1, 2, 3)</text>
<circle onclick="fromCircle(2)" class="circle" cx="116.1416" cy="83.9625" r="63.9625" />
<text class="tLabel" x="116.14" y="63.96"></text>
<text class="nLabel" x="116.14" y="78.96">62</text>
<text class="belong" x="116.14" y="88.96">(2)</text>
<circle onclick="fromCircle(6)" class="circle" cx="128.2982" cy="177.0916" r="18.1641" />
<text class="tLabel" x="128.30" y="157.09"></text>
<text class="nLabel" x="128.30" y="172.09">5</text>
<text class="belong" x="128.30" y="182.09">(2, 3)</text>
<circle onclick="fromCircle(4)" class="circle" cx="110.0534" cy="229.6146" r="25.6880" />
<text class="tLabel" x="110.05" y="209.61"></text>
<text class="nLabel" x="110.05" y="224.61">10</text>
<text class="belong" x="110.05" y="234.61">(3)</text>
<circle onclick="fromCircle(5)" class="circle" cx="161.1584" cy="230.9401" r="14.0699" />
<text class="tLabel" x="161.16" y="210.94"></text>
<text class="nLabel" x="161.16" y="225.94">3</text>
<text class="belong" x="161.16" y="235.94">(1, 3)</text>
<rect class="p0 borderLine" data-nbit="0" x="500.00" y="50.00" width="30.00" height="15.00" />
<rect class="q0" x="500.00" y="50.00" width="30.00" height="15.00" />
<text class="legend" x="540.00" y="65.00">IBA</text>
<rect class="p1 borderLine" data-nbit="1" x="500.00" y="90.00" width="30.00" height="15.00" />
<rect class="q1" x="500.00" y="90.00" width="30.00" height="15.00" />
<text class="legend" x="540.00" y="105.00">IDA</text>
<rect class="p2 borderLine" data-nbit="2" x="500.00" y="130.00" width="30.00" height="15.00" />
<rect class="q2" x="500.00" y="130.00" width="30.00" height="15.00" />
<text class="legend" x="540.00" y="145.00">IGI</text>
</svg>

</div>
<script>
let currentUrl = null;
const dsvg = document.getElementById('getSVG');
const dpng = document.getElementById('getPNG');
const dlg = document.getElementById('save');
const dlg2 = document.getElementById('safety');
const outf = document.getElementById('outfile');
const dod = document.getElementById('downloadpng');
dsvg.addEventListener('click', preparesvg);
dpng.addEventListener('click', preparepng);
outf.addEventListener('keyup', checkfilename);
dod.addEventListener('click', downloadpng);
dlg2.addEventListener('close', function(){window.URL.revokeObjectURL(currentUrl);});
const outp = document.getElementById('reg');
const elements = [[""], ["MGI:3033850", "MGI:2672976", "MGI:99586", "MGI:2672974", "MGI:3652032", "MGI:3808881", "MGI:102514", "MGI:2179205", "MGI:2138302", "MGI:2442822", "MGI:99592", "MGI:88492", "MGI:2687279", "MGI:3705230", "MGI:2447992", "MGI:1098644", "MGI:107506", "MGI:95496", "MGI:2685640", "MGI:2180856", "MGI:2143163", "MGI:1918046", "MGI:1341295", "MGI:1921386", "MGI:97822", "MGI:3695276", "MGI:102509", "MGI:2180852", "MGI:1917562", "MGI:1923551", "MGI:97430", "MGI:1344410", "MGI:98178", "MGI:3651686", "MGI:3577015", "MGI:98229", "MGI:107170", "MGI:3045276", "MGI:2149633", "MGI:3642780", "MGI:3040056", "MGI:1859396", "MGI:3612191", "MGI:2441706", "MGI:2137353", "MGI:1921985", "MGI:1336162", "MGI:107666", "MGI:2676308", "MGI:1926259", "MGI:2140770", "MGI:2137355", "MGI:2180853", "MGI:1921732", "MGI:1890645", "MGI:1098801", "MGI:3582959", "MGI:2442965", "MGI:97429", "MGI:1321404", "MGI:1890465", "MGI:3582777", "MGI:107540", "MGI:106657", "MGI:1341909", "MGI:2387432", "MGI:2156378", "MGI:2679720", "MGI:3643814", "MGI:99583", "MGI:1932101", "MGI:107657", "MGI:103289", "MGI:103063", "MGI:3647279", "MGI:3779286", "MGI:1861231", "MGI:109294", "MGI:3624119", "MGI:3646410", "MGI:1858238", "MGI:1298389", "MGI:3528616", "MGI:3709605", "MGI:1927449", "MGI:2664992", "MGI:3642989", "MGI:2445060", "MGI:3630303", "MGI:2180850", "MGI:3701974", "MGI:1338757", "MGI:99582", "MGI:3616889", "MGI:2147032", "MGI:3611585", "MGI:2685298", "MGI:109298", "MGI:1338036", "MGI:3709048", "MGI:96428", "MGI:99448", "MGI:3646688", "MGI:1858237", "MGI:2667155", "MGI:99580", "MGI:1933117", "MGI:3035181", "MGI:102516", "MGI:2445027", "MGI:3644953", "MGI:109210", "MGI:1916618", "MGI:2384814", "MGI:3641425", "MGI:2183434", "MGI:1933382", "MGI:2445041", "MGI:1889623", "MGI:2684861", "MGI:94881", "MGI:1349469", "MGI:3045221", "MGI:1890169", "MGI:109297", "MGI:1914104", "MGI:94882", "MGI:98943", "MGI:1196250", "MGI:3612190", "MGI:1890464", "MGI:2176882", "MGI:96429", "MGI:3649573", "MGI:1337056", "MGI:3652173", "MGI:3649299", "MGI:3032626", "MGI:1345152", "MGI:1913770", "MGI:2670994", "MGI:1913539", "MGI:103206", "MGI:2385051", "MGI:1929612", "MGI:99590", "MGI:2182965", "MGI:1196275", "MGI:2442261", "MGI:1932389", "MGI:2137359", "MGI:1349462", "MGI:1341158", "MGI:1913357", "MGI:1919762", "MGI:1929658", "MGI:1345151", "MGI:2386643", "MGI:108443", "MGI:3645218", "MGI:1923897", "MGI:2684881", "MGI:1913150", "MGI:1918836", "MGI:4821183", "MGI:1914005", "MGI:2672966", "MGI:2156367", "MGI:1861440", "MGI:2137431", "MGI:3528599", "MGI:1919206", "MGI:2387430", "MGI:1923239", "MGI:1890659", "MGI:4821257", "MGI:1918414", "MGI:1913416", "MGI:99581", "MGI:4821264", "MGI:2683287", "MGI:99585", "MGI:3045226", "MGI:1920399", "MGI:1349412", "MGI:3710083", "MGI:1923573", "MGI:1914951", "MGI:3630383", "MGI:1931835", "MGI:1914199", "MGI:2684862", "MGI:3645033", "MGI:1914123", "MGI:2177191", "MGI:1341296", "MGI:3630381", "MGI:3649773", "MGI:3708769", "MGI:3780953", "MGI:107662", "MGI:99588", "MGI:94883", "MGI:3584522", "MGI:3630390", "MGI:107729", "MGI:2448469", "MGI:1915259", "MGI:2138243", "MGI:107663", "MGI:4821256", "MGI:2180849", "MGI:1921733", "MGI:103290", "MGI:1098776", "MGI:2443965", "MGI:99591", "MGI:3711900", "MGI:3646853", "MGI:1918731", "MGI:3588218", "MGI:1890463", "MGI:1929720", "MGI:3701968", "MGI:3701966", "MGI:1917060", "MGI:94880", "MGI:2137352", "MGI:2676324", "MGI:2176887", "MGI:1336161", "MGI:1913548", "MGI:99587", "MGI:1889364", "MGI:3649260", "MGI:1916347", "MGI:2442492", "MGI:3588267", "MGI:3648996", "MGI:88318", "MGI:3036269", "MGI:3639039", "MGI:1858598", "MGI:1925558", "MGI:2384800", "MGI:107658", "MGI:1201793", "MGI:108021", "MGI:1859822", "MGI:108020", "MGI:1918910", "MGI:2153249", "MGI:3036291", "MGI:1916800", "MGI:1861232", "MGI:2685002", "MGI:1931560", "MGI:104984", "MGI:88022", "MGI:3701970", "MGI:2180860", "MGI:3645205", "MGI:2387602", "MGI:2686159", "MGI:88512", "MGI:109324", "MGI:1338754", "MGI:1889272", "MGI:1340031", "MGI:2179197", "MGI:1096878", "MGI:1333882", "MGI:2142077", "MGI:1914385", "MGI:1926262", "MGI:1918178", "MGI:2443411", "MGI:3045315", "MGI:3630385", "MGI:96877", "MGI:1098243", "MGI:2667156", "MGI:3647365", "MGI:2672972", "MGI:107661", "MGI:3041120", "MGI:1915167", "MGI:1913847", "MGI:1891456", "MGI:2441788", "MGI:97904", "MGI:3530275", "MGI:2684869", "MGI:99579", "MGI:107682", "MGI:3041173", "MGI:1925666", "MGI:2152213", "MGI:1344390", "MGI:1859307", "MGI:103039", "MGI:107741", "MGI:2144613", "MGI:1914775", "MGI:3045299", "MGI:1097683", "MGI:3701972", "MGI:97897", "MGI:1858171", "MGI:104641", "MGI:3705236", "MGI:99584", "MGI:1915471", "MGI:2180855", "MGI:104662", "MGI:2656551", "MGI:2686976", "MGI:1923931", "MGI:2149590", "MGI:101847", "MGI:3528602", "MGI:3649418", "MGI:1919489", "MGI:108072", "MGI:2442858", "MGI:1927468", "MGI:2179198", "MGI:1931465"], ["MGI:2653833", "MGI:3718546", "MGI:106612", "MGI:107370", "MGI:109384", "MGI:1100508", "MGI:1861032", "MGI:2667185", "MGI:894284", "MGI:1336882", "MGI:102789", "MGI:106211", "MGI:1929760", "MGI:96540", "MGI:1918518", "MGI:97361", "MGI:108445", "MGI:102676", "MGI:107936", "MGI:109432", "MGI:1915168", "MGI:2442295", "MGI:2443180", "MGI:1929744", "MGI:1890156", "MGI:97838", "MGI:1098240", "MGI:1925027", "MGI:107362", "MGI:2687214", "MGI:1917656", "MGI:1933113", "MGI:1194884", "MGI:107363", "MGI:1931595", "MGI:101773", "MGI:1306817", "MGI:99449", "MGI:87906", "MGI:95945", "MGI:893577", "MGI:1858730", "MGI:95851", "MGI:1928368", "MGI:95936", "MGI:104741", "MGI:95938", "MGI:1098268", "MGI:1098586", "MGI:97142", "MGI:3641753", "MGI:1917084", "MGI:1098259", "MGI:103072", "MGI:1921982", "MGI:2446089", "MGI:1342296", "MGI:105059", "MGI:98932", "MGI:1321389", "MGI:1345275", "MGI:97009"], ["MGI:97072", "MGI:3605620", "MGI:1923324", "MGI:2444421", "MGI:107664", "MGI:1861431", "MGI:1926263", "MGI:1890474", "MGI:107659", "MGI:2450574", "MGI:98734", "MGI:2662547", "MGI:107420", "MGI:2429943", "MGI:1913391", "MGI:1915963", "MGI:102772", "MGI:1347080", "MGI:95666", "MGI:1340905", "MGI:107567", "MGI:1330832", "MGI:2140219", "MGI:96824", "MGI:107668", "MGI:2140937", "MGI:4359647", "MGI:107538", "MGI:106588"], ["MGI:88489", "MGI:1328352", "MGI:2444773", "MGI:88385", "MGI:3622649", "MGI:1349420", "MGI:1913963", "MGI:98923", "MGI:1921367", "MGI:105975"], ["MGI:108005", "MGI:1346060", "MGI:3045213"], ["MGI:2143362", "MGI:96924", "MGI:1914320", "MGI:2135589", "MGI:96923"], ["MGI:107539", "MGI:109274"], ];
function setout(nreg){
	outp.value = elements[nreg].join("\n");
}
function fromCircle(nreg){
	for (let i = 0; i < cboxes.length; i++){
	let nb = 1 << i;
		if ((nreg & nb) > 0){
			cboxes[i].checked = true;
		}
		else{
			cboxes[i].checked = false;
		}
	}
	setout(nreg);
}
function intersection(){
let region = 0;
	const checks = document.getElementsByClassName('cbox');
	for (const c of checks){
		if (c.checked){
			let n = c.dataset.nbit;
			region += 1 << n;
		}
	}
		fromCircle(region);
}
function hideMsg(){
const nosc = document.getElementById('noscript');
nosc.parentNode.removeChild(nosc);
}
hideMsg();
const checks = document.getElementsByClassName('cbox');
for (const c of checks){
	c.addEventListener('click', intersection);
intersection();
}

function makePNG(img, jname, callback){
		let canvas = document.createElement('canvas');
		const newW = img.width;
		const newH = img.height;
		canvas.width = newW;
		canvas.height = newH;

		let ctx = canvas.getContext('2d');
		ctx.drawImage(img, 0, 0, newW, newH);

		let canvasdata = canvas.toDataURL('image/png');
		let a = document.createElement('a');
		a.id="safelink";
		a.download = jname + ".png";
		a.href=canvasdata;
		if (currentUrl !== null){window.URL.revokeObjectURL(currentUrl);}
		currentUrl = canvasdata;
		callback(a);
}

function downloadLink(a){
	const lnk = document.getElementById('safelink');
	const p = lnk.parentNode;
	const cnt = lnk.innerHTML;
	a.innerHTML = cnt;
	p.removeChild(lnk);
	p.appendChild(a);
	a.click();
	dlg.close();
	dlg2.show();
}

function toPNG(jname){
	const svg = document.getElementsByTagName('svg')[0];
	const svg_xml = (new XMLSerializer()).serializeToString(svg);
	const blob = new Blob([svg_xml], {type:'image/svg+xml;charset=utf-8'});
	const url = window.URL.createObjectURL(blob);
	var newW = 2800;
	var newH = 2000;
	var img = new Image();
	img.width = newW;
	img.height = newH;
	img.src = url;
	if (currentUrl !== null){window.URL.revokeObjectURL(currentUrl);}
	currentUrl = url;
	img.addEventListener('load', function(){makePNG(img, jname, downloadLink)});
}

function toSVG(jname){
	const svg = document.getElementsByTagName('svg')[0];
	const svg_xml = (new XMLSerializer()).serializeToString(svg);
	const blob = new Blob([svg_xml], {type:'image/svg+xml;charset=utf-8'});
	const url = window.URL.createObjectURL(blob);
	let a = document.createElement('a');
	a.id="safelink";
	a.download = jname + ".svg";
	a.href=url;
	console.log(url);
	if (currentUrl !== null){window.URL.revokeObjectURL(currentUrl);}
	currentUrl = url;
	downloadLink(a);
}

function preparesvg(){
	dlg.showModal();
	toSVG(outf.value);
}

function preparepng(){
	dlg.showModal();
}

function downloadpng(){
	toPNG(outf.value);
}

function checkfilename(e){
	if (e.keyCode === 13){
		downloadpng();
	}
}
</script>
</body>
</html>
